(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[308],{4757:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/employees/[id]/edit",function(){return t(6409)}])},6409:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return i}});var r=t(5893),a=t(7294),n=t(7536),o=t(1163);function i(){let e=(0,o.useRouter)(),{id:s}=e.query,[t,i]=(0,a.useState)(!0),[l,d]=(0,a.useState)(!1),{register:c,handleSubmit:u,formState:{errors:m},reset:f}=(0,n.cI)();(0,a.useEffect)(()=>{s&&p()},[s]);let p=async()=>{try{let e=await fetch("/api/employees/".concat(s));if(e.ok){let s=await e.json(),t={...s,joiningDate:new Date(s.joiningDate)};f(t)}}catch(e){console.error("Error fetching employee:",e)}finally{i(!1)}},x=async t=>{try{if(d(!0),(await fetch("/api/employees/".concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)e.push("/employees");else throw Error("Failed to update employee")}catch(e){console.error("Error updating employee:",e)}finally{d(!1)}};return t?(0,r.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"max-w-2xl mx-auto p-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Edit Employee"}),(0,r.jsxs)("form",{onSubmit:u(x),className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,r.jsx)("input",{...c("firstName",{required:"First name is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),m.firstName&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.firstName.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,r.jsx)("input",{...c("lastName",{required:"Last name is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),m.lastName&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.lastName.message})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>e.back(),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:l,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:l?"Updating...":"Update Employee"})]})]})]})}}},function(e){e.O(0,[998,888,774,179],function(){return e(e.s=4757)}),_N_E=e.O()}]);