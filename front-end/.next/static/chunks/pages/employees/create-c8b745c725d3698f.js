(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[791],{5497:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/employees/create",function(){return t(2237)}])},2237:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var r=t(5893),a=t(7294),i=t(7536),n=t(1163);function o(){let e=(0,n.useRouter)(),[s,t]=(0,a.useState)(!1),{register:o,handleSubmit:l,formState:{errors:d}}=(0,i.cI)(),m=async s=>{try{if(t(!0),(await fetch("/api/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)e.push("/employees");else throw Error("Failed to create employee")}catch(e){console.error("Error creating employee:",e)}finally{t(!1)}};return(0,r.jsxs)("div",{className:"max-w-2xl mx-auto p-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Create New Employee"}),(0,r.jsxs)("form",{onSubmit:l(m),className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,r.jsx)("input",{...o("firstName",{required:"First name is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.firstName&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.firstName.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,r.jsx)("input",{...o("lastName",{required:"Last name is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.lastName&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.lastName.message})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,r.jsx)("input",{...o("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.email&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.email.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),(0,r.jsx)("input",{...o("position",{required:"Position is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.position&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.position.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,r.jsx)("input",{...o("department",{required:"Department is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.department&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.department.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date"}),(0,r.jsx)("input",{...o("joiningDate",{required:"Joining date is required"}),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.joiningDate&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.joiningDate.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salary"}),(0,r.jsx)("input",{...o("salary",{required:"Salary is required",min:{value:0,message:"Salary must be positive"}}),type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.salary&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.salary.message})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>e.back(),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:s,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Creating...":"Create Employee"})]})]})]})}}},function(e){e.O(0,[998,888,774,179],function(){return e(e.s=5497)}),_N_E=e.O()}]);